<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MauiKit: utils/syncing/syncing.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MauiKit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cbdb8362360e11eafe2fa3bc74cf0ffd.html">utils</a></li><li class="navelem"><a class="el" href="dir_c28dff6429c12561b3cf46c84bdb6431.html">syncing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">syncing.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="syncing_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="syncing_8h.html">syncing.h</a>&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fm_8h.html">fm.h</a>&quot;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;QFile&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;QTimer&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;QEventLoop&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_web_d_a_v_client_8hpp.html">WebDAVClient.hpp</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_web_d_a_v_item_8hpp.html">WebDAVItem.hpp</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_web_d_a_v_reply_8hpp.html">WebDAVReply.hpp</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="class_syncing.html#a3b1beb6fe88ad8319d6b2bf5836f96c8">   12</a></span>&#160;<a class="code" href="class_syncing.html#a3b1beb6fe88ad8319d6b2bf5836f96c8">Syncing::Syncing</a>(<a class="code" href="class_q_object.html">QObject</a> *parent) : <a class="code" href="class_q_object.html">QObject</a>(parent)</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;{</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    this-&gt;<a class="code" href="class_syncing.html#a039a9b328114059afdb5fbce233720cb">setCredentials</a>(this-&gt;<a class="code" href="class_syncing.html#a0807a76febdfcb39ce8c2439d0611823">host</a>, this-&gt;<a class="code" href="class_syncing.html#ade2b18c6953cc9401458bf29d0179851">user</a>, this-&gt;<a class="code" href="class_syncing.html#a46b4c8841cb383f7fdb465d972868679">password</a>);</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;}</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="class_syncing.html#adf26128a6d484c9b2caf7f54eba2f47e">   17</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_syncing.html#adf26128a6d484c9b2caf7f54eba2f47e">Syncing::listContent</a>(<span class="keyword">const</span> QString &amp;path, <span class="keyword">const</span> QStringList &amp;filters, <span class="keyword">const</span> <span class="keywordtype">int</span> &amp;depth)</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;{</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    this-&gt;<a class="code" href="class_syncing.html#a34522652ec6136c560307d6264bbd961">currentPath</a> = path;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    </div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <span class="keyword">auto</span> url = QString(path).replace(<span class="stringliteral">&quot;Cloud/&quot;</span>+<a class="code" href="class_syncing.html#ade2b18c6953cc9401458bf29d0179851">user</a>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    this-&gt;<a class="code" href="class_syncing.html#a5c67f1250fd3e91ada19e5e1674dd330">listDirOutputHandler</a>(this-&gt;<a class="code" href="class_syncing.html#a95c556b1ca12b26d295378eecedc1f05">client</a>-&gt;<a class="code" href="class_web_d_a_v_client.html#a56cd81c3d7676e61695a190103bf54d8">listDir</a>(url, static_cast&lt;ListDepthEnum&gt;(depth)), filters);</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="class_syncing.html#a039a9b328114059afdb5fbce233720cb">   25</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_syncing.html#a039a9b328114059afdb5fbce233720cb">Syncing::setCredentials</a>(<span class="keyword">const</span> QString &amp;server, <span class="keyword">const</span> QString &amp;user, <span class="keyword">const</span> QString &amp;password)</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    this-&gt;<a class="code" href="class_syncing.html#a0807a76febdfcb39ce8c2439d0611823">host</a> = server;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    this-&gt;user = <a class="code" href="class_syncing.html#ade2b18c6953cc9401458bf29d0179851">user</a>;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    this-&gt;password = <a class="code" href="class_syncing.html#a46b4c8841cb383f7fdb465d972868679">password</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    </div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    this-&gt;<a class="code" href="class_syncing.html#a95c556b1ca12b26d295378eecedc1f05">client</a> = <span class="keyword">new</span> <a class="code" href="class_web_d_a_v_client.html">WebDAVClient</a>(this-&gt;<a class="code" href="class_syncing.html#a0807a76febdfcb39ce8c2439d0611823">host</a>, this-&gt;user, this-&gt;password);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="class_syncing.html#a5c67f1250fd3e91ada19e5e1674dd330">   34</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_syncing.html#a5c67f1250fd3e91ada19e5e1674dd330">Syncing::listDirOutputHandler</a>(<a class="code" href="class_web_d_a_v_reply.html">WebDAVReply</a> *reply, <span class="keyword">const</span> QStringList &amp;filters)</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    connect(reply, &amp;<a class="code" href="class_web_d_a_v_reply.html#ab0e5f6dfdcfa4d916ddfceb4a9c0e476">WebDAVReply::listDirResponse</a>, [=](QNetworkReply *listDirReply, QList&lt;WebDAVItem&gt; items) </div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//      qDebug() &lt;&lt; &quot;URL :&quot; &lt;&lt; listDirReply-&gt;url();</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//      qDebug() &lt;&lt; &quot;Received List of&quot; &lt;&lt; items.length() &lt;&lt; &quot;items&quot;;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//      qDebug() &lt;&lt; endl &lt;&lt; &quot;---------------------------------------&quot;;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <a class="code" href="namespace_f_m_h.html#a7172c274bf963fcc1fe42c8536eceed6">FMH::MODEL_LIST</a> list;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="class_web_d_a_v_item.html">WebDAVItem</a> item : items)</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            </div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keyword">auto</span> url = QUrl(item.getHref()).toString();</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            </div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <span class="keyword">auto</span> path =  QString(<span class="stringliteral">&quot;Cloud/&quot;</span>+this-&gt;<a class="code" href="class_syncing.html#ade2b18c6953cc9401458bf29d0179851">user</a>+<span class="stringliteral">&quot;/&quot;</span>)+QString(url).replace(<span class="stringliteral">&quot;/remote.php/webdav/&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            </div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="keyword">auto</span> displayName =  item.getContentType().isEmpty() ? QString(url).replace(<span class="stringliteral">&quot;/remote.php/webdav/&quot;</span>, <span class="stringliteral">&quot;&quot;</span>).replace(<span class="stringliteral">&quot;/&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) :  QString(path).right(path.length()-path.lastIndexOf(<span class="stringliteral">&quot;/&quot;</span>)-1);</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            </div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//          qDebug()&lt;&lt; &quot;PATHS:&quot; &lt;&lt; path &lt;&lt; this-&gt;currentPath;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            </div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <span class="keywordflow">if</span>(QString(url).replace(<span class="stringliteral">&quot;/remote.php/webdav/&quot;</span>, <span class="stringliteral">&quot;&quot;</span>).isEmpty() || path == this-&gt;<a class="code" href="class_syncing.html#a34522652ec6136c560307d6264bbd961">currentPath</a>)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            </div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//          qDebug()&lt;&lt; &quot;FILTERING &quot;&lt;&lt; filters &lt;&lt; QString(displayName).right(displayName.length() - displayName.lastIndexOf(&quot;.&quot;));</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <span class="keywordflow">if</span>(!filters.isEmpty() &amp;&amp; !filters.contains(<span class="stringliteral">&quot;*&quot;</span>+QString(displayName).right(displayName.length() -  displayName.lastIndexOf(<span class="stringliteral">&quot;.&quot;</span>))))</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            </div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            list &lt;&lt; <a class="code" href="namespace_f_m_h.html#a0cd3d9668a9b139a07cef6e71dd20466">FMH::MODEL</a> {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aaf644e9a42a11dcd044aa0ee260b7e4c7">FMH::MODEL_KEY::LABEL</a>, displayName},</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;         {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aaad147eb35210604190367337ef52f18b">FMH::MODEL_KEY::NAME</a>, item.getDisplayName()},</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa411f90f3236fce5b28cbc056514dcfa7">FMH::MODEL_KEY::DATE</a>, item.getCreationDate().toString(Qt::TextDate)},</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa0a7a92a6d7d6906efcb43eaa66d1a2ee">FMH::MODEL_KEY::MODIFIED</a>, item.getLastModified()},</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa945cadb1f751e0654650fd5d4253e9ae">FMH::MODEL_KEY::MIME</a>, item.getContentType().isEmpty() ? <span class="stringliteral">&quot;inode/directory&quot;</span> : item.getContentType()},</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa0fdba0d1444a2fa05f616a96b70b61ab">FMH::MODEL_KEY::ICON</a>, <a class="code" href="namespace_f_m_h.html#ab081b4a8e2faedbe025f94fa44113bac">FMH::getIconName</a>(url)},</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa99c857d98b590d6ea85d80c8dbc850ec">FMH::MODEL_KEY::SIZE</a>, QString::number(item.getContentLength())},</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aae508b7d311e74090e82c459229494769">FMH::MODEL_KEY::PATH</a>, path},</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;         {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa014d920c8093cafa7c3f03a9fbabe91d">FMH::MODEL_KEY::URL</a>, url},</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;         {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa0874a2037f2ed106f471bb8267cf9578">FMH::MODEL_KEY::THUMBNAIL</a>, item.getContentType().isEmpty() ? url : this-&gt;<a class="code" href="class_syncing.html#a1a6ee2e16630d4474846dd8f50ed87d7">getCacheFile</a>(url)}</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            };</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        emit this-&gt;<a class="code" href="class_syncing.html#a4f73dcf27308feb0eb822f361d0466a1">listReady</a>(list, this-&gt;<a class="code" href="class_syncing.html#a34522652ec6136c560307d6264bbd961">currentPath</a>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        </div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    });</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    connect(reply, &amp;<a class="code" href="class_web_d_a_v_reply.html#a93845b8a130a294f9e12b17f0cdf5fc7">WebDAVReply::error</a>, [=](QNetworkReply::NetworkError err) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">//      qDebug() &lt;&lt; &quot;ERROR&quot; &lt;&lt; err;</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        this-&gt;<a class="code" href="class_syncing.html#a02d84a787aec374dbffa16931db397c1">emitError</a>(err);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    });</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="class_syncing.html#a1a6ee2e16630d4474846dd8f50ed87d7">   82</a></span>&#160;QString <a class="code" href="class_syncing.html#a1a6ee2e16630d4474846dd8f50ed87d7">Syncing::getCacheFile</a>(<span class="keyword">const</span> QString&amp; path)</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{   </div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> directory = <a class="code" href="class_f_m.html#acae92041969d1a3bd16e149827623bcc">FM::resolveUserCloudCachePath</a>(this-&gt;<a class="code" href="class_syncing.html#a0807a76febdfcb39ce8c2439d0611823">host</a>, this-&gt;<a class="code" href="class_syncing.html#ade2b18c6953cc9401458bf29d0179851">user</a>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> file = directory + QString(path).replace(<span class="stringliteral">&quot;remote.php/webdav/&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);  </div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    </div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    qDebug()&lt;&lt; <span class="stringliteral">&quot;resolving file&quot;</span>&lt;&lt; file;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    </div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespace_f_m_h.html#a96fb85b0283389ba71e8a20daeab400f">FMH::fileExists</a>(file))</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">return</span> file;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> path;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="class_syncing.html#af5390b477d45fcb310b32c3630e94518">   94</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_syncing.html#af5390b477d45fcb310b32c3630e94518">Syncing::download</a>(<span class="keyword">const</span> QString&amp; path)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    QString url = QString(path).replace(<span class="stringliteral">&quot;remote.php/webdav/&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    </div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="class_web_d_a_v_reply.html">WebDAVReply</a> *reply = this-&gt;<a class="code" href="class_syncing.html#a95c556b1ca12b26d295378eecedc1f05">client</a>-&gt;<a class="code" href="class_web_d_a_v_client.html#a1a8db9a6a138f95a1b8b68099fefc8b8">downloadFrom</a>(url);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    qDebug()&lt;&lt; <span class="stringliteral">&quot;CURRENT CREDENTIALS&quot;</span>&lt;&lt; this-&gt;<a class="code" href="class_syncing.html#a0807a76febdfcb39ce8c2439d0611823">host</a> &lt;&lt; this-&gt;<a class="code" href="class_syncing.html#ade2b18c6953cc9401458bf29d0179851">user</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    connect(reply, &amp;<a class="code" href="class_web_d_a_v_reply.html#a5b0dcbe19d0a14542c0caaa07a262519">WebDAVReply::downloadResponse</a>, [=](QNetworkReply *reply) </div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">if</span> (!reply-&gt;error())</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;\nDownload Success&quot;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;\nURL  :&quot;</span> &lt;&lt; reply-&gt;url() &lt;&lt; <span class="stringliteral">&quot;\nSize :&quot;</span> &lt;&lt; reply-&gt;size();</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keyword">auto</span> file = reply-&gt;readAll();</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span> directory = <a class="code" href="namespace_f_m_h.html#a1a214d01719d9d2ed9640de3b6da469c">FMH::CloudCachePath</a>+<span class="stringliteral">&quot;opendesktop/&quot;</span>+this-&gt;<a class="code" href="class_syncing.html#ade2b18c6953cc9401458bf29d0179851">user</a>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            </div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            QDir dir(directory);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            </div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordflow">if</span> (!dir.exists())</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                dir.mkpath(<span class="stringliteral">&quot;.&quot;</span>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            </div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            this-&gt;<a class="code" href="class_syncing.html#a6895a00ea0d4b07e52edb32fcd78a7ad">saveTo</a>(file, directory+url);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        } <span class="keywordflow">else</span> </div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;ERROR(DOWNLOAD)&quot;</span> &lt;&lt; reply-&gt;error() &lt;&lt; reply-&gt;url() &lt;&lt;url;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(reply-&gt;errorString());</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    });</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    </div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    connect(reply, &amp;<a class="code" href="class_web_d_a_v_reply.html#acb79123abb4ab94086898578c755896b">WebDAVReply::downloadProgressResponse</a>, [=](qint64 bytesReceived, qint64 bytesTotal)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordtype">int</span> percent = ((float)bytesReceived / bytesTotal) * 100;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        </div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;\nReceived : &quot;</span> &lt;&lt; bytesReceived</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\nTotal    : &quot;</span> &lt;&lt; bytesTotal</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        &lt;&lt; <span class="stringliteral">&quot;\nPercent  : &quot;</span> &lt;&lt; percent;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        </div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        emit this-&gt;<a class="code" href="class_syncing.html#a5b39a72e18648331d3e2036df30e1ed7">progress</a>(percent);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    });</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    </div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    connect(reply, &amp;<a class="code" href="class_web_d_a_v_reply.html#a93845b8a130a294f9e12b17f0cdf5fc7">WebDAVReply::error</a>, [=](QNetworkReply::NetworkError err) {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;ERROR&quot;</span> &lt;&lt; err;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    });</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="class_syncing.html#a9faa666c33d7ea762b127eb03cb971d6">  138</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_syncing.html#a9faa666c33d7ea762b127eb03cb971d6">Syncing::upload</a>(<span class="keyword">const</span> QString &amp;path, <span class="keyword">const</span> QString &amp;filePath)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    </div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="namespace_f_m_h.html#a96fb85b0283389ba71e8a20daeab400f">FMH::fileExists</a>(filePath))</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        </div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    qDebug()&lt;&lt; <span class="stringliteral">&quot;Copy to cloud. File exists&quot;</span> &lt;&lt; path &lt;&lt; filePath;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    </div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    this-&gt;<a class="code" href="class_syncing.html#a1620b0d5def3078c2cf872cad7839246">mFile</a>.setFileName(filePath);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span>(this-&gt;<a class="code" href="class_syncing.html#a1620b0d5def3078c2cf872cad7839246">mFile</a>.open(QIODevice::ReadOnly))</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    {       </div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        qDebug()&lt;&lt; <span class="stringliteral">&quot;Copy to cloud. File could be opened&quot;</span>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        </div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="class_web_d_a_v_reply.html">WebDAVReply</a> *reply = this-&gt;<a class="code" href="class_syncing.html#a95c556b1ca12b26d295378eecedc1f05">client</a>-&gt;<a class="code" href="class_web_d_a_v_client.html#a168ca7ab3edc10ab4026f6bae9a43b96">uploadTo</a>(path, QFileInfo(filePath).fileName(), &amp;this-&gt;<a class="code" href="class_syncing.html#a1620b0d5def3078c2cf872cad7839246">mFile</a>);    </div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    </div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        connect(reply, &amp;<a class="code" href="class_web_d_a_v_reply.html#a57fbc430724f2e476112b36a795fa4e7">WebDAVReply::uploadFinished</a>, [=](QNetworkReply *reply)</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">if</span> (!reply-&gt;error())</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        {</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;\nUpload Success&quot;</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;\nURL  :&quot;</span> &lt;&lt; reply-&gt;url() &lt;&lt; <span class="stringliteral">&quot;\nSize :&quot;</span> &lt;&lt; reply-&gt;size();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            </div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <span class="keyword">auto</span> cachePath = this-&gt;<a class="code" href="class_syncing.html#a41081813c21c8b48f853641d0edc83e7">saveToCache</a>(filePath, path);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            </div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="keyword">auto</span> item = <a class="code" href="namespace_f_m_h.html#ac748bdab6e71b54b5817eee0ab5f63ed">FMH::getFileInfoModel</a>(cachePath);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">//          item[FMH::MODEL_KEY::PATH] =  this-&gt;currentPath+&quot;/&quot;+QFileInfo(filePath).fileName()+&quot;/&quot;;</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            </div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a0c92daee82b6c93c7ab3221c90398e37">uploadReady</a>(item, this-&gt;<a class="code" href="class_syncing.html#a34522652ec6136c560307d6264bbd961">currentPath</a>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        } <span class="keywordflow">else</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;ERROR(UPLOAD)&quot;</span> &lt;&lt; reply-&gt;error();</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(reply-&gt;errorString());</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        </div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">if</span>(!this-&gt;<a class="code" href="class_syncing.html#a18a7ad0e9912e332a24e8684fe2fc45b">uploadQueue</a>.isEmpty())</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        {           </div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            qDebug()&lt;&lt;<span class="stringliteral">&quot;UPLOAD QUEUE&quot;</span> &lt;&lt; this-&gt;<a class="code" href="class_syncing.html#a18a7ad0e9912e332a24e8684fe2fc45b">uploadQueue</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            this-&gt;<a class="code" href="class_syncing.html#a9faa666c33d7ea762b127eb03cb971d6">upload</a>(path, this-&gt;<a class="code" href="class_syncing.html#a18a7ad0e9912e332a24e8684fe2fc45b">uploadQueue</a>.takeLast());</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    });</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    </div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    connect(reply, &amp;<a class="code" href="class_web_d_a_v_reply.html#a93845b8a130a294f9e12b17f0cdf5fc7">WebDAVReply::error</a>, [=](QNetworkReply::NetworkError err)</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;ERROR&quot;</span> &lt;&lt; err;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        this-&gt;<a class="code" href="class_syncing.html#a02d84a787aec374dbffa16931db397c1">emitError</a>(err);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    });}</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="class_syncing.html#a1fb436d36ff2889789c7b5833939c51a">  187</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_syncing.html#a1fb436d36ff2889789c7b5833939c51a">Syncing::createDir</a>(<span class="keyword">const</span> QString &amp;path, <span class="keyword">const</span> QString &amp;name)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="class_web_d_a_v_reply.html">WebDAVReply</a> *reply = this-&gt;<a class="code" href="class_syncing.html#a95c556b1ca12b26d295378eecedc1f05">client</a>-&gt;<a class="code" href="class_web_d_a_v_client.html#add7bae4b949eb0b63ffdca710b65efd4">createDir</a>(path, name);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    </div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    connect(reply, &amp;<a class="code" href="class_web_d_a_v_reply.html#a0936469a276ed3bc9ed7a2f22cb6000b">WebDAVReply::createDirFinished</a>, [=](QNetworkReply *reply) </div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">if</span> (!reply-&gt;error())</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;\nDir Created&quot;</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;\nURL  :&quot;</span> &lt;&lt; reply-&gt;url();</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <a class="code" href="namespace_f_m_h.html#a0cd3d9668a9b139a07cef6e71dd20466">FMH::MODEL</a> dir = {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aaf644e9a42a11dcd044aa0ee260b7e4c7">FMH::MODEL_KEY::LABEL</a>, name},</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;         {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa411f90f3236fce5b28cbc056514dcfa7">FMH::MODEL_KEY::DATE</a>, QDateTime::currentDateTime().toString(Qt::TextDate)},</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa945cadb1f751e0654650fd5d4253e9ae">FMH::MODEL_KEY::MIME</a>, <span class="stringliteral">&quot;inode/directory&quot;</span>},</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;         {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa0fdba0d1444a2fa05f616a96b70b61ab">FMH::MODEL_KEY::ICON</a>, <span class="stringliteral">&quot;folder&quot;</span>},</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;         {<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aae508b7d311e74090e82c459229494769">FMH::MODEL_KEY::PATH</a>, this-&gt;<a class="code" href="class_syncing.html#a34522652ec6136c560307d6264bbd961">currentPath</a>+<span class="stringliteral">&quot;/&quot;</span>+name+<span class="stringliteral">&quot;/&quot;</span>}</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            };</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a3e9e9f5ac7197094486e3d467f915916">dirCreated</a>(dir, this-&gt;<a class="code" href="class_syncing.html#a34522652ec6136c560307d6264bbd961">currentPath</a>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        } <span class="keywordflow">else</span> </div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;ERROR(CREATE DIR)&quot;</span> &lt;&lt; reply-&gt;error();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(reply-&gt;errorString());</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    });</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    </div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    connect(reply, &amp;<a class="code" href="class_web_d_a_v_reply.html#a93845b8a130a294f9e12b17f0cdf5fc7">WebDAVReply::error</a>, [=](QNetworkReply::NetworkError err) </div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;ERROR&quot;</span> &lt;&lt; err;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        this-&gt;<a class="code" href="class_syncing.html#a02d84a787aec374dbffa16931db397c1">emitError</a>(err);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    });</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="class_syncing.html#a02d84a787aec374dbffa16931db397c1">  219</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_syncing.html#a02d84a787aec374dbffa16931db397c1">Syncing::emitError</a>(<span class="keyword">const</span> QNetworkReply::NetworkError &amp;err)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    </div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">switch</span>(err)</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::AuthenticationRequiredError: </div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;The remote server requires authentication to serve the content but the credentials provided were not accepted (if any)&quot;</span>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            </div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::ConnectionRefusedError: </div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the remote server refused the connection (the server is not accepting requests)&quot;</span>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            </div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::RemoteHostClosedError: </div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the remote server closed the connection prematurely, before the entire reply was received and processed&quot;</span>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            </div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::HostNotFoundError: </div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the remote host name was not found (invalid hostname)&quot;</span>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            </div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::TimeoutError: </div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the connection to the remote server timed out&quot;</span>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            </div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::OperationCanceledError: </div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the operation was canceled via calls to abort() or close() before it was finished.&quot;</span>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            </div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::SslHandshakeFailedError: </div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the SSL/TLS handshake failed and the encrypted channel could not be established. The sslErrors() signal should have been emitted.&quot;</span>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            </div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::TemporaryNetworkFailureError: </div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the connection was broken due to disconnection from the network, however the system has initiated roaming to another access point. The request should be resubmitted and will be processed as soon as the connection is re-established.&quot;</span>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            </div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::NetworkSessionFailedError: </div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the connection was broken due to disconnection from the network or failure to start the network.&quot;</span>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="keywordflow">break</span>;              </div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            </div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::BackgroundRequestNotAllowedError: </div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the background request is not currently allowed due to platform policy.&quot;</span>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            </div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::TooManyRedirectsError: </div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;while following redirects, the maximum limit was reached. The limit is by default set to 50 or as set by QNetworkRequest::setMaxRedirectsAllowed(). (This value was introduced in 5.6.)&quot;</span>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            </div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::InsecureRedirectError: </div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;while following redirects, the network access API detected a redirect from a encrypted protocol (https) to an unencrypted one (http).&quot;</span>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            </div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::ProxyConnectionRefusedError: </div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the connection to the proxy server was refused (the proxy server is not accepting requests)&quot;</span>);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            </div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::ProxyConnectionClosedError: </div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the proxy server closed the connection prematurely, before the entire reply was received and processed&quot;</span>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            </div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::ProxyNotFoundError: </div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the proxy host name was not found (invalid proxy hostname)&quot;</span>);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            </div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::ProxyTimeoutError: </div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the connection to the proxy timed out or the proxy did not reply in time to the request sent&quot;</span>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            </div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::ProxyAuthenticationRequiredError: </div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the proxy requires authentication in order to honour the request but did not accept any credentials offered (if any)&quot;</span>);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            </div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::ContentAccessDenied: </div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the access to the remote content was denied (similar to HTTP error 403)&quot;</span>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            </div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::ContentOperationNotPermittedError: </div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the operation requested on the remote content is not permitted&quot;</span>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            </div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::ContentNotFoundError:</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the remote content was not found at the server (similar to HTTP error 404)&quot;</span>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            </div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::ContentReSendError: </div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the request needed to be sent again, but this failed for example because the upload data could not be read a second time.&quot;</span>);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            </div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">case</span> QNetworkReply::ServiceUnavailableError: </div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;the server is unable to handle the request at this time.&quot;</span>);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            </div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">default</span>: emit this-&gt;<a class="code" href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">error</a>(<span class="stringliteral">&quot;There was an unknown error with the remote server or your internet connection.&quot;</span>);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="class_syncing.html#a6895a00ea0d4b07e52edb32fcd78a7ad">  317</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_syncing.html#a6895a00ea0d4b07e52edb32fcd78a7ad">Syncing::saveTo</a>(<span class="keyword">const</span> QByteArray &amp;array, <span class="keyword">const</span> QString&amp; path)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;{</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    QFile file(path);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    </div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">if</span>(!file.exists())</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        QDir dir;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        uint cut = path.length()- path.lastIndexOf(<span class="stringliteral">&quot;/&quot;</span>) -1;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keyword">auto</span> newPath = QString(path).right(cut);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        dir.mkdir(QString(path).replace(newPath, <span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        qDebug()&lt;&lt; newPath &lt;&lt; cut;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        </div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }<span class="keywordflow">else</span> file.remove();    </div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    </div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    file.open(QIODevice::WriteOnly);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    file.write(array);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    file.close();</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    </div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    emit this-&gt;<a class="code" href="class_syncing.html#a3454bb34a1bba0a0096a95431cee9e56">itemReady</a>(<a class="code" href="namespace_f_m_h.html#ac748bdab6e71b54b5817eee0ab5f63ed">FMH::getFileInfoModel</a>(path), this-&gt;<a class="code" href="class_syncing.html#a34522652ec6136c560307d6264bbd961">currentPath</a>, this-&gt;<a class="code" href="class_syncing.html#a897161a3c6270e931a7ad1ea7d179726">signalType</a>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">//  emit this-&gt;itemReady(FMH::getFileInfoModel(path));</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="class_syncing.html#a41081813c21c8b48f853641d0edc83e7">  339</a></span>&#160;QString <a class="code" href="class_syncing.html#a41081813c21c8b48f853641d0edc83e7">Syncing::saveToCache</a>(<span class="keyword">const</span> QString&amp; file, <span class="keyword">const</span> QString &amp;where)</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keyword">auto</span> directory = <a class="code" href="namespace_f_m_h.html#a1a214d01719d9d2ed9640de3b6da469c">FMH::CloudCachePath</a>+<span class="stringliteral">&quot;opendesktop/&quot;</span>+this-&gt;<a class="code" href="class_syncing.html#ade2b18c6953cc9401458bf29d0179851">user</a>+<span class="stringliteral">&quot;/&quot;</span>+where;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    </div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    QDir dir(directory);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    </div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (!dir.exists())</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        dir.mkpath(<span class="stringliteral">&quot;.&quot;</span>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    </div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> newPath = directory+<span class="stringliteral">&quot;/&quot;</span>+QFileInfo(file).fileName();</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    </div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span>(QFile::copy(file, newPath))</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">return</span> newPath;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    </div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">return</span> QString();</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="class_syncing.html#af94159401c69e757e0e6f944a97153a8">  356</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_syncing.html#af94159401c69e757e0e6f944a97153a8">Syncing::resolveFile</a>(<span class="keyword">const</span> <a class="code" href="namespace_f_m_h.html#a0cd3d9668a9b139a07cef6e71dd20466">FMH::MODEL</a>&amp; item, <span class="keyword">const</span> <a class="code" href="class_syncing.html#ad31a50ac929e4f666088320b2bcc7cd2">Syncing::SIGNAL_TYPE</a> &amp;signalType)</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{   </div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    this-&gt;signalType = <a class="code" href="class_syncing.html#a897161a3c6270e931a7ad1ea7d179726">signalType</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    </div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> url = item[<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa014d920c8093cafa7c3f03a9fbabe91d">FMH::MODEL_KEY::URL</a>];</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> file = this-&gt;<a class="code" href="class_syncing.html#a1a6ee2e16630d4474846dd8f50ed87d7">getCacheFile</a>(url);  </div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    </div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="namespace_f_m_h.html#a96fb85b0283389ba71e8a20daeab400f">FMH::fileExists</a>(file))</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    {           </div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> cacheFile = <a class="code" href="namespace_f_m_h.html#ac748bdab6e71b54b5817eee0ab5f63ed">FMH::getFileInfoModel</a>(file);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        </div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> dateCacheFile = QDateTime::fromString(cacheFile[<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa411f90f3236fce5b28cbc056514dcfa7">FMH::MODEL_KEY::DATE</a>], Qt::TextDate);        </div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> dateCloudFile = QDateTime::fromString(QString(item[<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa0a7a92a6d7d6906efcb43eaa66d1a2ee">FMH::MODEL_KEY::MODIFIED</a>]).replace(<span class="stringliteral">&quot;GMT&quot;</span>, <span class="stringliteral">&quot;&quot;</span>).simplified(), <span class="stringliteral">&quot;ddd, dd MMM yyyy hh:mm:ss&quot;</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        </div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        qDebug()&lt;&lt;<span class="stringliteral">&quot;FILE EXISTS ON CACHE&quot;</span> &lt;&lt; dateCacheFile &lt;&lt; dateCloudFile&lt;&lt; QString(item[<a class="code" href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa0a7a92a6d7d6906efcb43eaa66d1a2ee">FMH::MODEL_KEY::MODIFIED</a>]).replace(<span class="stringliteral">&quot;GMT&quot;</span>, <span class="stringliteral">&quot;&quot;</span>).simplified()&lt;&lt; file;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        </div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">if</span>(dateCloudFile &gt;  dateCacheFile)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            this-&gt;<a class="code" href="class_syncing.html#af5390b477d45fcb310b32c3630e94518">download</a>(url);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            emit this-&gt;<a class="code" href="class_syncing.html#a3454bb34a1bba0a0096a95431cee9e56">itemReady</a>(cacheFile, this-&gt;<a class="code" href="class_syncing.html#a34522652ec6136c560307d6264bbd961">currentPath</a>, this-&gt;signalType);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        </div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    } <span class="keywordflow">else</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        this-&gt;<a class="code" href="class_syncing.html#af5390b477d45fcb310b32c3630e94518">download</a>(url);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="class_syncing.html#a09ba4fc439e6fce7c665707c2cc9d8da">  381</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_syncing.html#a09ba4fc439e6fce7c665707c2cc9d8da">Syncing::setCopyTo</a>(<span class="keyword">const</span> QString &amp;path)</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;{</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span>(this-&gt;<a class="code" href="class_syncing.html#a943fb31270d93c99898f45eaa755b15c">copyTo</a> == path)</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    </div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    this-&gt;<a class="code" href="class_syncing.html#a943fb31270d93c99898f45eaa755b15c">copyTo</a> = path;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="class_syncing.html#a488d992005f5e429c11eef631271eabf">  389</a></span>&#160;QString <a class="code" href="class_syncing.html#a488d992005f5e429c11eef631271eabf">Syncing::getCopyTo</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_syncing.html#a943fb31270d93c99898f45eaa755b15c">copyTo</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="class_syncing.html#aa41faa9bcfa5530956db744e1d6cc3c2">  394</a></span>&#160;QString <a class="code" href="class_syncing.html#aa41faa9bcfa5530956db744e1d6cc3c2">Syncing::getUser</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_syncing.html#ade2b18c6953cc9401458bf29d0179851">user</a>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;}</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="class_syncing.html#aed5ebd1b72f898073821060addde1017">  399</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_syncing.html#aed5ebd1b72f898073821060addde1017">Syncing::setUploadQueue</a>(<span class="keyword">const</span> QStringList&amp; list)</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;{</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    this-&gt;<a class="code" href="class_syncing.html#a18a7ad0e9912e332a24e8684fe2fc45b">uploadQueue</a> = list;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="class_syncing.html#a84d6f5a6bfb9938fdd1fd96e5d16c4ea">  404</a></span>&#160;QString <a class="code" href="class_syncing.html#a84d6f5a6bfb9938fdd1fd96e5d16c4ea">Syncing::localToAbstractCloudPath</a>(<span class="keyword">const</span> QString&amp; url)</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;{</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">return</span> QString(url).replace(<a class="code" href="namespace_f_m_h.html#a1a214d01719d9d2ed9640de3b6da469c">FMH::CloudCachePath</a>+<span class="stringliteral">&quot;opendesktop&quot;</span>, <a class="code" href="namespace_f_m_h.html#a974cd5bdd4d7fba33597914dbe5fb64c">FMH::PATHTYPE_NAME</a>[<a class="code" href="namespace_f_m_h.html#a127067b39050644bc9985541c02debe3a82d85cd3fb8224b8871d22b8c79d9f51">FMH::PATHTYPE_KEY::CLOUD_PATH</a>]);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="ttc" id="class_syncing_html_a1620b0d5def3078c2cf872cad7839246"><div class="ttname"><a href="class_syncing.html#a1620b0d5def3078c2cf872cad7839246">Syncing::mFile</a></div><div class="ttdeci">QFile mFile</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8h_source.html#l00074">syncing.h:74</a></div></div>
<div class="ttc" id="class_syncing_html_a3454bb34a1bba0a0096a95431cee9e56"><div class="ttname"><a href="class_syncing.html#a3454bb34a1bba0a0096a95431cee9e56">Syncing::itemReady</a></div><div class="ttdeci">void itemReady(FMH::MODEL item, QString url, Syncing::SIGNAL_TYPE &amp;signalType)</div></div>
<div class="ttc" id="class_web_d_a_v_client_html_a1a8db9a6a138f95a1b8b68099fefc8b8"><div class="ttname"><a href="class_web_d_a_v_client.html#a1a8db9a6a138f95a1b8b68099fefc8b8">WebDAVClient::downloadFrom</a></div><div class="ttdeci">WebDAVReply * downloadFrom(QString path)</div><div class="ttdef"><b>Definition:</b> <a href="_web_d_a_v_client_8cpp_source.html#l00074">WebDAVClient.cpp:74</a></div></div>
<div class="ttc" id="class_syncing_html_ad31a50ac929e4f666088320b2bcc7cd2"><div class="ttname"><a href="class_syncing.html#ad31a50ac929e4f666088320b2bcc7cd2">Syncing::SIGNAL_TYPE</a></div><div class="ttdeci">SIGNAL_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8h_source.html#l00024">syncing.h:24</a></div></div>
<div class="ttc" id="namespace_f_m_h_html_a96fb85b0283389ba71e8a20daeab400f"><div class="ttname"><a href="namespace_f_m_h.html#a96fb85b0283389ba71e8a20daeab400f">FMH::fileExists</a></div><div class="ttdeci">bool fileExists(const QString &amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00455">fmh.h:455</a></div></div>
<div class="ttc" id="class_syncing_html_a41081813c21c8b48f853641d0edc83e7"><div class="ttname"><a href="class_syncing.html#a41081813c21c8b48f853641d0edc83e7">Syncing::saveToCache</a></div><div class="ttdeci">QString saveToCache(const QString &amp;file, const QString &amp;where)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00339">syncing.cpp:339</a></div></div>
<div class="ttc" id="class_web_d_a_v_item_html"><div class="ttname"><a href="class_web_d_a_v_item.html">WebDAVItem</a></div><div class="ttdef"><b>Definition:</b> <a href="_web_d_a_v_item_8hpp_source.html#l00011">WebDAVItem.hpp:11</a></div></div>
<div class="ttc" id="class_web_d_a_v_client_html"><div class="ttname"><a href="class_web_d_a_v_client.html">WebDAVClient</a></div><div class="ttdef"><b>Definition:</b> <a href="_web_d_a_v_client_8hpp_source.html#l00024">WebDAVClient.hpp:24</a></div></div>
<div class="ttc" id="class_syncing_html_a02d84a787aec374dbffa16931db397c1"><div class="ttname"><a href="class_syncing.html#a02d84a787aec374dbffa16931db397c1">Syncing::emitError</a></div><div class="ttdeci">void emitError(const QNetworkReply::NetworkError &amp;err)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00219">syncing.cpp:219</a></div></div>
<div class="ttc" id="namespace_f_m_h_html_ab081b4a8e2faedbe025f94fa44113bac"><div class="ttname"><a href="namespace_f_m_h.html#ab081b4a8e2faedbe025f94fa44113bac">FMH::getIconName</a></div><div class="ttdeci">QString getIconName(const QString &amp;path)</div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00537">fmh.h:537</a></div></div>
<div class="ttc" id="class_syncing_html_aa41faa9bcfa5530956db744e1d6cc3c2"><div class="ttname"><a href="class_syncing.html#aa41faa9bcfa5530956db744e1d6cc3c2">Syncing::getUser</a></div><div class="ttdeci">QString getUser() const</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00394">syncing.cpp:394</a></div></div>
<div class="ttc" id="class_web_d_a_v_client_html_a56cd81c3d7676e61695a190103bf54d8"><div class="ttname"><a href="class_web_d_a_v_client.html#a56cd81c3d7676e61695a190103bf54d8">WebDAVClient::listDir</a></div><div class="ttdeci">WebDAVReply * listDir(QString path=&quot;/&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="_web_d_a_v_client_8cpp_source.html#l00024">WebDAVClient.cpp:24</a></div></div>
<div class="ttc" id="class_syncing_html_a46b4c8841cb383f7fdb465d972868679"><div class="ttname"><a href="class_syncing.html#a46b4c8841cb383f7fdb465d972868679">Syncing::password</a></div><div class="ttdeci">QString password</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8h_source.html#l00060">syncing.h:60</a></div></div>
<div class="ttc" id="class_syncing_html_a1a6ee2e16630d4474846dd8f50ed87d7"><div class="ttname"><a href="class_syncing.html#a1a6ee2e16630d4474846dd8f50ed87d7">Syncing::getCacheFile</a></div><div class="ttdeci">QString getCacheFile(const QString &amp;path)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00082">syncing.cpp:82</a></div></div>
<div class="ttc" id="class_syncing_html_a5b39a72e18648331d3e2036df30e1ed7"><div class="ttname"><a href="class_syncing.html#a5b39a72e18648331d3e2036df30e1ed7">Syncing::progress</a></div><div class="ttdeci">void progress(int percent)</div></div>
<div class="ttc" id="class_web_d_a_v_reply_html_a0936469a276ed3bc9ed7a2f22cb6000b"><div class="ttname"><a href="class_web_d_a_v_reply.html#a0936469a276ed3bc9ed7a2f22cb6000b">WebDAVReply::createDirFinished</a></div><div class="ttdeci">void createDirFinished(QNetworkReply *createDirReply)</div></div>
<div class="ttc" id="namespace_f_m_h_html_a618dad0728f882a396dfc70276a1fb1aae508b7d311e74090e82c459229494769"><div class="ttname"><a href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aae508b7d311e74090e82c459229494769">FMH::PATH</a></div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00090">fmh.h:90</a></div></div>
<div class="ttc" id="class_syncing_html_a18a7ad0e9912e332a24e8684fe2fc45b"><div class="ttname"><a href="class_syncing.html#a18a7ad0e9912e332a24e8684fe2fc45b">Syncing::uploadQueue</a></div><div class="ttdeci">QStringList uploadQueue</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8h_source.html#l00037">syncing.h:37</a></div></div>
<div class="ttc" id="class_f_m_html_acae92041969d1a3bd16e149827623bcc"><div class="ttname"><a href="class_f_m.html#acae92041969d1a3bd16e149827623bcc">FM::resolveUserCloudCachePath</a></div><div class="ttdeci">static QString resolveUserCloudCachePath(const QString &amp;server, const QString &amp;user)</div><div class="ttdef"><b>Definition:</b> <a href="fm_8cpp_source.html#l00463">fm.cpp:463</a></div></div>
<div class="ttc" id="class_syncing_html_a0807a76febdfcb39ce8c2439d0611823"><div class="ttname"><a href="class_syncing.html#a0807a76febdfcb39ce8c2439d0611823">Syncing::host</a></div><div class="ttdeci">QString host</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8h_source.html#l00058">syncing.h:58</a></div></div>
<div class="ttc" id="class_web_d_a_v_reply_html_ab0e5f6dfdcfa4d916ddfceb4a9c0e476"><div class="ttname"><a href="class_web_d_a_v_reply.html#ab0e5f6dfdcfa4d916ddfceb4a9c0e476">WebDAVReply::listDirResponse</a></div><div class="ttdeci">void listDirResponse(QNetworkReply *listDirReply, QList&lt; WebDAVItem &gt; items)</div></div>
<div class="ttc" id="namespace_f_m_h_html_a0cd3d9668a9b139a07cef6e71dd20466"><div class="ttname"><a href="namespace_f_m_h.html#a0cd3d9668a9b139a07cef6e71dd20466">FMH::MODEL</a></div><div class="ttdeci">QHash&lt; FMH::MODEL_KEY, QString &gt; MODEL</div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00361">fmh.h:361</a></div></div>
<div class="ttc" id="_web_d_a_v_reply_8hpp_html"><div class="ttname"><a href="_web_d_a_v_reply_8hpp.html">WebDAVReply.hpp</a></div></div>
<div class="ttc" id="_web_d_a_v_item_8hpp_html"><div class="ttname"><a href="_web_d_a_v_item_8hpp.html">WebDAVItem.hpp</a></div></div>
<div class="ttc" id="fm_8h_html"><div class="ttname"><a href="fm_8h.html">fm.h</a></div></div>
<div class="ttc" id="class_syncing_html_a3e9e9f5ac7197094486e3d467f915916"><div class="ttname"><a href="class_syncing.html#a3e9e9f5ac7197094486e3d467f915916">Syncing::dirCreated</a></div><div class="ttdeci">void dirCreated(FMH::MODEL item, QString url)</div></div>
<div class="ttc" id="namespace_f_m_h_html_a1a214d01719d9d2ed9640de3b6da469c"><div class="ttname"><a href="namespace_f_m_h.html#a1a214d01719d9d2ed9640de3b6da469c">FMH::CloudCachePath</a></div><div class="ttdeci">const QString CloudCachePath</div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00389">fmh.h:389</a></div></div>
<div class="ttc" id="class_syncing_html_a897161a3c6270e931a7ad1ea7d179726"><div class="ttname"><a href="class_syncing.html#a897161a3c6270e931a7ad1ea7d179726">Syncing::signalType</a></div><div class="ttdeci">SIGNAL_TYPE signalType</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8h_source.html#l00072">syncing.h:72</a></div></div>
<div class="ttc" id="namespace_f_m_h_html_a127067b39050644bc9985541c02debe3a82d85cd3fb8224b8871d22b8c79d9f51"><div class="ttname"><a href="namespace_f_m_h.html#a127067b39050644bc9985541c02debe3a82d85cd3fb8224b8871d22b8c79d9f51">FMH::CLOUD_PATH</a></div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00373">fmh.h:373</a></div></div>
<div class="ttc" id="class_syncing_html_adf26128a6d484c9b2caf7f54eba2f47e"><div class="ttname"><a href="class_syncing.html#adf26128a6d484c9b2caf7f54eba2f47e">Syncing::listContent</a></div><div class="ttdeci">void listContent(const QString &amp;path, const QStringList &amp;filters, const int &amp;depth=1)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00017">syncing.cpp:17</a></div></div>
<div class="ttc" id="class_syncing_html_a1fb436d36ff2889789c7b5833939c51a"><div class="ttname"><a href="class_syncing.html#a1fb436d36ff2889789c7b5833939c51a">Syncing::createDir</a></div><div class="ttdeci">void createDir(const QString &amp;path, const QString &amp;name)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00187">syncing.cpp:187</a></div></div>
<div class="ttc" id="class_syncing_html_a943fb31270d93c99898f45eaa755b15c"><div class="ttname"><a href="class_syncing.html#a943fb31270d93c99898f45eaa755b15c">Syncing::copyTo</a></div><div class="ttdeci">QString copyTo</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8h_source.html#l00068">syncing.h:68</a></div></div>
<div class="ttc" id="class_syncing_html_a34522652ec6136c560307d6264bbd961"><div class="ttname"><a href="class_syncing.html#a34522652ec6136c560307d6264bbd961">Syncing::currentPath</a></div><div class="ttdeci">QString currentPath</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8h_source.html#l00067">syncing.h:67</a></div></div>
<div class="ttc" id="class_web_d_a_v_reply_html_a57fbc430724f2e476112b36a795fa4e7"><div class="ttname"><a href="class_web_d_a_v_reply.html#a57fbc430724f2e476112b36a795fa4e7">WebDAVReply::uploadFinished</a></div><div class="ttdeci">void uploadFinished(QNetworkReply *uploadReply)</div></div>
<div class="ttc" id="syncing_8h_html"><div class="ttname"><a href="syncing_8h.html">syncing.h</a></div></div>
<div class="ttc" id="class_syncing_html_a488d992005f5e429c11eef631271eabf"><div class="ttname"><a href="class_syncing.html#a488d992005f5e429c11eef631271eabf">Syncing::getCopyTo</a></div><div class="ttdeci">QString getCopyTo() const</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00389">syncing.cpp:389</a></div></div>
<div class="ttc" id="class_syncing_html_a9faa666c33d7ea762b127eb03cb971d6"><div class="ttname"><a href="class_syncing.html#a9faa666c33d7ea762b127eb03cb971d6">Syncing::upload</a></div><div class="ttdeci">void upload(const QString &amp;path, const QString &amp;filePath)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00138">syncing.cpp:138</a></div></div>
<div class="ttc" id="namespace_f_m_h_html_a618dad0728f882a396dfc70276a1fb1aa0874a2037f2ed106f471bb8267cf9578"><div class="ttname"><a href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa0874a2037f2ed106f471bb8267cf9578">FMH::THUMBNAIL</a></div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00103">fmh.h:103</a></div></div>
<div class="ttc" id="class_syncing_html_aed5ebd1b72f898073821060addde1017"><div class="ttname"><a href="class_syncing.html#aed5ebd1b72f898073821060addde1017">Syncing::setUploadQueue</a></div><div class="ttdeci">void setUploadQueue(const QStringList &amp;list)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00399">syncing.cpp:399</a></div></div>
<div class="ttc" id="class_syncing_html_a84d6f5a6bfb9938fdd1fd96e5d16c4ea"><div class="ttname"><a href="class_syncing.html#a84d6f5a6bfb9938fdd1fd96e5d16c4ea">Syncing::localToAbstractCloudPath</a></div><div class="ttdeci">QString localToAbstractCloudPath(const QString &amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00404">syncing.cpp:404</a></div></div>
<div class="ttc" id="class_syncing_html_a3b1beb6fe88ad8319d6b2bf5836f96c8"><div class="ttname"><a href="class_syncing.html#a3b1beb6fe88ad8319d6b2bf5836f96c8">Syncing::Syncing</a></div><div class="ttdeci">Syncing(QObject *parent=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00012">syncing.cpp:12</a></div></div>
<div class="ttc" id="class_syncing_html_a6895a00ea0d4b07e52edb32fcd78a7ad"><div class="ttname"><a href="class_syncing.html#a6895a00ea0d4b07e52edb32fcd78a7ad">Syncing::saveTo</a></div><div class="ttdeci">void saveTo(const QByteArray &amp;array, const QString &amp;path)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00317">syncing.cpp:317</a></div></div>
<div class="ttc" id="namespace_f_m_h_html_a618dad0728f882a396dfc70276a1fb1aa0fdba0d1444a2fa05f616a96b70b61ab"><div class="ttname"><a href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa0fdba0d1444a2fa05f616a96b70b61ab">FMH::ICON</a></div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00088">fmh.h:88</a></div></div>
<div class="ttc" id="namespace_f_m_h_html_a618dad0728f882a396dfc70276a1fb1aa99c857d98b590d6ea85d80c8dbc850ec"><div class="ttname"><a href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa99c857d98b590d6ea85d80c8dbc850ec">FMH::SIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00098">fmh.h:98</a></div></div>
<div class="ttc" id="class_syncing_html_a95c556b1ca12b26d295378eecedc1f05"><div class="ttname"><a href="class_syncing.html#a95c556b1ca12b26d295378eecedc1f05">Syncing::client</a></div><div class="ttdeci">WebDAVClient * client</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8h_source.html#l00057">syncing.h:57</a></div></div>
<div class="ttc" id="class_web_d_a_v_client_html_add7bae4b949eb0b63ffdca710b65efd4"><div class="ttname"><a href="class_web_d_a_v_client.html#add7bae4b949eb0b63ffdca710b65efd4">WebDAVClient::createDir</a></div><div class="ttdeci">WebDAVReply * createDir(QString path, QString dirName)</div><div class="ttdef"><b>Definition:</b> <a href="_web_d_a_v_client_8cpp_source.html#l00140">WebDAVClient.cpp:140</a></div></div>
<div class="ttc" id="namespace_f_m_h_html_a618dad0728f882a396dfc70276a1fb1aaad147eb35210604190367337ef52f18b"><div class="ttname"><a href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aaad147eb35210604190367337ef52f18b">FMH::NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00096">fmh.h:96</a></div></div>
<div class="ttc" id="class_web_d_a_v_reply_html_a93845b8a130a294f9e12b17f0cdf5fc7"><div class="ttname"><a href="class_web_d_a_v_reply.html#a93845b8a130a294f9e12b17f0cdf5fc7">WebDAVReply::error</a></div><div class="ttdeci">void error(QNetworkReply::NetworkError err)</div></div>
<div class="ttc" id="class_syncing_html_a09ba4fc439e6fce7c665707c2cc9d8da"><div class="ttname"><a href="class_syncing.html#a09ba4fc439e6fce7c665707c2cc9d8da">Syncing::setCopyTo</a></div><div class="ttdeci">void setCopyTo(const QString &amp;path)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00381">syncing.cpp:381</a></div></div>
<div class="ttc" id="class_web_d_a_v_reply_html_a5b0dcbe19d0a14542c0caaa07a262519"><div class="ttname"><a href="class_web_d_a_v_reply.html#a5b0dcbe19d0a14542c0caaa07a262519">WebDAVReply::downloadResponse</a></div><div class="ttdeci">void downloadResponse(QNetworkReply *downloadReply)</div></div>
<div class="ttc" id="_web_d_a_v_client_8hpp_html"><div class="ttname"><a href="_web_d_a_v_client_8hpp.html">WebDAVClient.hpp</a></div></div>
<div class="ttc" id="class_syncing_html_a4f73dcf27308feb0eb822f361d0466a1"><div class="ttname"><a href="class_syncing.html#a4f73dcf27308feb0eb822f361d0466a1">Syncing::listReady</a></div><div class="ttdeci">void listReady(FMH::MODEL_LIST data, QString url)</div></div>
<div class="ttc" id="namespace_f_m_h_html_a974cd5bdd4d7fba33597914dbe5fb64c"><div class="ttname"><a href="namespace_f_m_h.html#a974cd5bdd4d7fba33597914dbe5fb64c">FMH::PATHTYPE_NAME</a></div><div class="ttdeci">static const QHash&lt; PATHTYPE_KEY, QString &gt; PATHTYPE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00376">fmh.h:376</a></div></div>
<div class="ttc" id="namespace_f_m_h_html_a618dad0728f882a396dfc70276a1fb1aa0a7a92a6d7d6906efcb43eaa66d1a2ee"><div class="ttname"><a href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa0a7a92a6d7d6906efcb43eaa66d1a2ee">FMH::MODIFIED</a></div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00099">fmh.h:99</a></div></div>
<div class="ttc" id="class_web_d_a_v_reply_html"><div class="ttname"><a href="class_web_d_a_v_reply.html">WebDAVReply</a></div><div class="ttdef"><b>Definition:</b> <a href="_web_d_a_v_reply_8hpp_source.html#l00018">WebDAVReply.hpp:18</a></div></div>
<div class="ttc" id="class_syncing_html_af94159401c69e757e0e6f944a97153a8"><div class="ttname"><a href="class_syncing.html#af94159401c69e757e0e6f944a97153a8">Syncing::resolveFile</a></div><div class="ttdeci">void resolveFile(const FMH::MODEL &amp;item, const Syncing::SIGNAL_TYPE &amp;signalType)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00356">syncing.cpp:356</a></div></div>
<div class="ttc" id="namespace_f_m_h_html_a7172c274bf963fcc1fe42c8536eceed6"><div class="ttname"><a href="namespace_f_m_h.html#a7172c274bf963fcc1fe42c8536eceed6">FMH::MODEL_LIST</a></div><div class="ttdeci">QList&lt; MODEL &gt; MODEL_LIST</div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00362">fmh.h:362</a></div></div>
<div class="ttc" id="class_syncing_html_af5390b477d45fcb310b32c3630e94518"><div class="ttname"><a href="class_syncing.html#af5390b477d45fcb310b32c3630e94518">Syncing::download</a></div><div class="ttdeci">void download(const QString &amp;path)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00094">syncing.cpp:94</a></div></div>
<div class="ttc" id="class_syncing_html_a5c67f1250fd3e91ada19e5e1674dd330"><div class="ttname"><a href="class_syncing.html#a5c67f1250fd3e91ada19e5e1674dd330">Syncing::listDirOutputHandler</a></div><div class="ttdeci">void listDirOutputHandler(WebDAVReply *reply, const QStringList &amp;filters=QStringList())</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00034">syncing.cpp:34</a></div></div>
<div class="ttc" id="class_q_object_html"><div class="ttname"><a href="class_q_object.html">QObject</a></div></div>
<div class="ttc" id="class_web_d_a_v_client_html_a168ca7ab3edc10ab4026f6bae9a43b96"><div class="ttname"><a href="class_web_d_a_v_client.html#a168ca7ab3edc10ab4026f6bae9a43b96">WebDAVClient::uploadTo</a></div><div class="ttdeci">WebDAVReply * uploadTo(QString path, QString filename, QIODevice *file)</div><div class="ttdef"><b>Definition:</b> <a href="_web_d_a_v_client_8cpp_source.html#l00119">WebDAVClient.cpp:119</a></div></div>
<div class="ttc" id="class_syncing_html_a039a9b328114059afdb5fbce233720cb"><div class="ttname"><a href="class_syncing.html#a039a9b328114059afdb5fbce233720cb">Syncing::setCredentials</a></div><div class="ttdeci">void setCredentials(const QString &amp;server, const QString &amp;user, const QString &amp;password)</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8cpp_source.html#l00025">syncing.cpp:25</a></div></div>
<div class="ttc" id="namespace_f_m_h_html_a618dad0728f882a396dfc70276a1fb1aa411f90f3236fce5b28cbc056514dcfa7"><div class="ttname"><a href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa411f90f3236fce5b28cbc056514dcfa7">FMH::DATE</a></div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00097">fmh.h:97</a></div></div>
<div class="ttc" id="class_syncing_html_ade2b18c6953cc9401458bf29d0179851"><div class="ttname"><a href="class_syncing.html#ade2b18c6953cc9401458bf29d0179851">Syncing::user</a></div><div class="ttdeci">QString user</div><div class="ttdef"><b>Definition:</b> <a href="syncing_8h_source.html#l00059">syncing.h:59</a></div></div>
<div class="ttc" id="namespace_f_m_h_html_a618dad0728f882a396dfc70276a1fb1aa945cadb1f751e0654650fd5d4253e9ae"><div class="ttname"><a href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa945cadb1f751e0654650fd5d4253e9ae">FMH::MIME</a></div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00100">fmh.h:100</a></div></div>
<div class="ttc" id="class_syncing_html_a0c92daee82b6c93c7ab3221c90398e37"><div class="ttname"><a href="class_syncing.html#a0c92daee82b6c93c7ab3221c90398e37">Syncing::uploadReady</a></div><div class="ttdeci">void uploadReady(FMH::MODEL item, QString url)</div></div>
<div class="ttc" id="namespace_f_m_h_html_ac748bdab6e71b54b5817eee0ab5f63ed"><div class="ttname"><a href="namespace_f_m_h.html#ac748bdab6e71b54b5817eee0ab5f63ed">FMH::getFileInfoModel</a></div><div class="ttdeci">FMH::MODEL getFileInfoModel(const QString &amp;path)</div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00603">fmh.h:603</a></div></div>
<div class="ttc" id="class_syncing_html_a659f23a2510b3b9b262def1d0ebd3783"><div class="ttname"><a href="class_syncing.html#a659f23a2510b3b9b262def1d0ebd3783">Syncing::error</a></div><div class="ttdeci">void error(QString message)</div></div>
<div class="ttc" id="namespace_f_m_h_html_a618dad0728f882a396dfc70276a1fb1aaf644e9a42a11dcd044aa0ee260b7e4c7"><div class="ttname"><a href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aaf644e9a42a11dcd044aa0ee260b7e4c7">FMH::LABEL</a></div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00089">fmh.h:89</a></div></div>
<div class="ttc" id="class_web_d_a_v_reply_html_acb79123abb4ab94086898578c755896b"><div class="ttname"><a href="class_web_d_a_v_reply.html#acb79123abb4ab94086898578c755896b">WebDAVReply::downloadProgressResponse</a></div><div class="ttdeci">void downloadProgressResponse(qint64 bytesReceived, qint64 bytesTotal)</div></div>
<div class="ttc" id="namespace_f_m_h_html_a618dad0728f882a396dfc70276a1fb1aa014d920c8093cafa7c3f03a9fbabe91d"><div class="ttname"><a href="namespace_f_m_h.html#a618dad0728f882a396dfc70276a1fb1aa014d920c8093cafa7c3f03a9fbabe91d">FMH::URL</a></div><div class="ttdef"><b>Definition:</b> <a href="fmh_8h_source.html#l00091">fmh.h:91</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 11 2019 10:15:21 for MauiKit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
